{"ast":null,"code":"import _slicedToArray from\"C:/Users/admin/Desktop/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/123123/GW/Information-System-of-Internet-Provider/SiteReact/gg/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import ReactDOMClient from\"react-dom/client\";import{gc}from'./userpage.js';import IMask from'imask';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var obj;var ta=[];function tariffs(){ta=[];var request=new XMLHttpRequest();var url=\"http://localhost:8080/streams\";request.open(\"GET\",url,true);request.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");request.addEventListener(\"readystatechange\",function(){if(request.readyState===4&&request.status===200){var answer=request.responseText;var array=answer.split(';');for(var i=1;i<array.length;i++){obj=JSON.parse(array[i]);ta.push(obj);}//console.log(ta);\n}//console.log(ta);\nvar fullinfo=ReactDOMClient.createRoot(document.getElementById(\"fullinfo\"));fullinfo.render(/*#__PURE__*/_jsx(ControlSchedule,{t:ta}));});request.send();}function ControlSchedule(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),click=_useState2[0],setClick=_useState2[1];var res=props.t.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0422\\u0435\\u043C\\u0430: \",item.Theme]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0414\\u0430\\u0442\\u0430: \",item.Date]})]},item.ID);});return/*#__PURE__*/_jsxs(\"div\",{id:\"controlSchedule\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"listStream\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0437\\u0430\\u043F\\u043B\\u0430\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u043D\\u044B\\u0445 \\u0442\\u0440\\u0430\\u043D\\u0441\\u043B\\u044F\\u0446\\u0438\\u0439\"}),res]}),/*#__PURE__*/_jsxs(\"div\",{id:\"selectDate\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0434\\u0430\\u0442\\u0443: \",/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"calendar\",id:\"cal\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0412\\u0440\\u0435\\u043C\\u044F: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"time\",id:\"time\",placeholder:\"\\u0427\\u0427:\\u041C\\u041C:\\u0421\\u0421\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0422\\u0435\\u043C\\u0430: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"themstream\",id:\"themstream\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:createStream,children:\"\\u0417\\u0430\\u043F\\u043B\\u0430\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"})]})]});}export function controlSchedule(){tariffs();}function createStream(){var d=document.getElementById(\"cal\").value;var t=document.getElementById(\"time\").value;var theme=document.getElementById(\"themstream\").value;var date=d+\" \"+t;var request=new XMLHttpRequest();var url=\"http://localhost:8080/setstream\";var params=\"key=\"+gc(\"key\")+\"&Date=\"+date+\"&Theme=\"+theme;request.open(\"POST\",url,true);request.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");request.addEventListener(\"readystatechange\",function(){if(request.readyState===4&&request.status===200){tariffs();}});request.send(params);}","map":{"version":3,"names":["React","useState","ReactDOMClient","gc","IMask","obj","ta","tariffs","request","XMLHttpRequest","url","open","setRequestHeader","addEventListener","readyState","status","answer","responseText","array","split","i","length","JSON","parse","push","fullinfo","createRoot","document","getElementById","render","send","ControlSchedule","props","click","setClick","res","t","map","item","Theme","Date","ID","createStream","controlSchedule","d","value","theme","date","params"],"sources":["C:/Users/admin/Desktop/Документы/123123/GW/Information-System-of-Internet-Provider/SiteReact/gg/app/src/schedule.js"],"sourcesContent":["import React, { useState } from \"react\"\r\nimport ReactDOMClient from \"react-dom/client\"\r\nimport { gc } from './userpage.js'\r\nimport IMask from 'imask'\r\n\r\nvar obj;\r\n\r\nvar ta = [];\r\n\r\nfunction tariffs() {\r\n    ta = [];\r\n\r\n    const request = new XMLHttpRequest();\r\n\r\n    const url = \"http://localhost:8080/streams\";\r\n\r\n    request.open(\"GET\", url, true);\r\n\r\n    request.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n\r\n    request.addEventListener(\"readystatechange\", () => {\r\n\r\n        if (request.readyState === 4 && request.status === 200) {\r\n            var answer = request.responseText;\r\n            var array = answer.split(';');\r\n\r\n            for (let i = 1; i < array.length; i++) {\r\n                obj = JSON.parse(array[i]);\r\n                ta.push(obj);\r\n            }\r\n            //console.log(ta);\r\n        }\r\n        //console.log(ta);\r\n        const fullinfo = ReactDOMClient.createRoot(document.getElementById(\"fullinfo\"));\r\n        fullinfo.render(<ControlSchedule t={ta} />);\r\n    });\r\n\r\n    request.send();\r\n}\r\n\r\nfunction ControlSchedule(props) {\r\n    let [click, setClick] = useState(\"\");\r\n\r\n    let res = props.t.map(function (item) {\r\n        return <div key={item.ID}>\r\n            <p>Тема: {item.Theme}</p>\r\n            <p>Дата: {item.Date}</p>\r\n        </div>\r\n    });\r\n\r\n    return (\r\n        <div id=\"controlSchedule\">\r\n            <div id=\"listStream\">\r\n                <p>Список запланированных трансляций</p>\r\n                {res}\r\n            </div>\r\n\r\n            <div id=\"selectDate\">\r\n                <p>Выберите дату: <input type=\"date\" name=\"calendar\" id=\"cal\"></input></p>\r\n                <p>Время: <input type=\"text\" name=\"time\" id=\"time\" placeholder=\"ЧЧ:ММ:СС\"></input></p>\r\n                <p>Тема: <input type=\"text\" name=\"themstream\" id=\"themstream\"></input></p>\r\n\r\n                <button onClick={createStream}>Запланировать</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function controlSchedule() {\r\n    tariffs();\r\n}\r\n\r\nfunction createStream() {\r\n    var d = document.getElementById(\"cal\").value;\r\n    var t = document.getElementById(\"time\").value;\r\n    var theme = document.getElementById(\"themstream\").value;\r\n\r\n    var date = d + \" \" + t;\r\n\r\n    const request = new XMLHttpRequest();\r\n\r\n    const url = \"http://localhost:8080/setstream\";\r\n\r\n    const params = \"key=\" + gc(\"key\") + \"&Date=\" + date + \"&Theme=\" + theme;\r\n\r\n    request.open(\"POST\", url, true);\r\n\r\n    request.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n\r\n    request.addEventListener(\"readystatechange\", () => {\r\n\r\n        if (request.readyState === 4 && request.status === 200) {\r\n            tariffs();\r\n        }\r\n    });\r\n\r\n    request.send(params);\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}