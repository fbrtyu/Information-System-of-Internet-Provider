{"ast":null,"code":"import _slicedToArray from\"C:/Users/admin/Desktop/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/123123/GW/Information-System-of-Internet-Provider/SiteReact/gg/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import ReactDOMClient from\"react-dom/client\";import{gc}from'./userpage.js';import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var obj;var ta=[];function setV(props){console.log(props);console.log(ta);var tariff=ta.find(function(el){return el.Date==props;});console.log(tariff.Body);document.getElementById(\"nameTariffch\").value=tariff.Body;document.getElementById(\"ansSup\").value=tariff.Answer;}function UserSupport(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var options=props.t.map(function(item){return/*#__PURE__*/_jsx(\"option\",{children:item.Date},item.IDS);});return/*#__PURE__*/_jsxs(\"div\",{id:\"controlTariff\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{id:\"suptext\",children:\"\\u041E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u044F\",id:\"nameTariffch\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{id:\"btnsup\",onClick:sendsup,children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u041E\\u0442\\u0432\\u0435\\u0442\",id:\"ansSup\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u044F \\u043E\\u0431\\u0440\\u0430\\u0449\\u0435\\u043D\\u0438\\u0439\"}),/*#__PURE__*/_jsx(\"select\",{id:\"listTariff\",size:\"3\",value:value,onChange:function onChange(event){setValue(event.target.value);setV(event.target.value);},children:options})]})]});}function sendsup(){var request=new XMLHttpRequest();var url=\"http://localhost:8080/sendsup\";var params=\"key=\"+gc(\"key\")+\"&Body=\"+document.getElementById(\"nameTariffch\").value;request.open(\"POST\",url,true);request.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");request.addEventListener(\"readystatechange\",function(){if(request.readyState===4&&request.status===200){//document.getElementById(\"btnsup\").style.display = \"none\";\n//document.getElementById(\"suptext\").textContent = \"Обращение отправлено\";\n//window.location.reload();\nuserSupport();}});request.send(params);}export function userSupport(){ta=[];var request=new XMLHttpRequest();var url=\"http://localhost:8080/supuser\";var params=\"key=\"+gc(\"key\");request.open(\"POST\",url,true);request.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");request.addEventListener(\"readystatechange\",function(){if(request.readyState===4&&request.status===200){var answer=request.responseText;var array=answer.split(';');for(var i=1;i<array.length;i++){obj=JSON.parse(array[i]);ta.push(obj);}}var userInformation=ReactDOMClient.createRoot(document.getElementById(\"userInformation\"));userInformation.render(/*#__PURE__*/_jsx(UserSupport,{t:ta}));});request.send(params);}","map":{"version":3,"names":["React","ReactDOMClient","gc","useState","obj","ta","setV","props","console","log","tariff","find","el","Date","Body","document","getElementById","value","Answer","UserSupport","setValue","options","t","map","item","IDS","sendsup","event","target","request","XMLHttpRequest","url","params","open","setRequestHeader","addEventListener","readyState","status","userSupport","send","answer","responseText","array","split","i","length","JSON","parse","push","userInformation","createRoot","render"],"sources":["C:/Users/admin/Desktop/Документы/123123/GW/Information-System-of-Internet-Provider/SiteReact/gg/app/src/usersupport.js"],"sourcesContent":["import React from \"react\"\r\nimport ReactDOMClient from \"react-dom/client\"\r\nimport { gc } from './userpage.js'\r\nimport { useState } from \"react\"\r\n\r\nvar obj;\r\n\r\nvar ta = [];\r\n\r\nfunction setV(props) {\r\n    console.log(props);\r\n    console.log(ta);\r\n    var tariff = ta.find(el => el.Date == props);\r\n    console.log(tariff.Body);\r\n\r\n    document.getElementById(\"nameTariffch\").value = tariff.Body;\r\n    document.getElementById(\"ansSup\").value = tariff.Answer;\r\n}\r\n\r\nfunction UserSupport(props) {\r\n\r\n    const [value, setValue] = useState('');\r\n\r\n    const options = props.t.map((item) => {\r\n        return <option key={item.IDS}>{item.Date}</option>;\r\n    });\r\n\r\n    return (\r\n        <div id=\"controlTariff\">\r\n            <div>\r\n                <p id=\"suptext\">Обращение</p>\r\n                <textarea placeholder=\"Текст обращения\" id=\"nameTariffch\"></textarea>\r\n                <br></br><br></br>\r\n                <button id=\"btnsup\" onClick={sendsup}>Отправить</button>\r\n                <textarea placeholder=\"Ответ\" id=\"ansSup\"></textarea>\r\n            </div>\r\n\r\n            <div>\r\n                <p>История обращений</p>\r\n                <select id=\"listTariff\" size=\"3\" value={value} onChange={(event) => { setValue(event.target.value); setV(event.target.value) }}>\r\n                    {options}\r\n                </select>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction sendsup() {\r\n    const request = new XMLHttpRequest();\r\n\r\n    const url = \"http://localhost:8080/sendsup\";\r\n\r\n    const params = \"key=\" + gc(\"key\") + \"&Body=\" + document.getElementById(\"nameTariffch\").value;\r\n\r\n    request.open(\"POST\", url, true);\r\n\r\n    request.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n\r\n    request.addEventListener(\"readystatechange\", () => {\r\n\r\n        if (request.readyState === 4 && request.status === 200) {\r\n                //document.getElementById(\"btnsup\").style.display = \"none\";\r\n                //document.getElementById(\"suptext\").textContent = \"Обращение отправлено\";\r\n                //window.location.reload();\r\n                userSupport();\r\n        }\r\n    });\r\n\r\n    request.send(params);\r\n}\r\n\r\nexport function userSupport() {\r\n    ta = [];\r\n\r\n    const request = new XMLHttpRequest();\r\n\r\n    const url = \"http://localhost:8080/supuser\";\r\n\r\n    const params = \"key=\" + gc(\"key\");\r\n\r\n    request.open(\"POST\", url, true);\r\n\r\n    request.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n\r\n    request.addEventListener(\"readystatechange\", () => {\r\n\r\n        if (request.readyState === 4 && request.status === 200) {\r\n            var answer = request.responseText;\r\n            var array = answer.split(';');\r\n\r\n            for (let i = 1; i < array.length; i++) {\r\n                obj = JSON.parse(array[i]);\r\n                ta.push(obj);\r\n            }\r\n        }\r\n        const userInformation = ReactDOMClient.createRoot(document.getElementById(\"userInformation\"));\r\n        userInformation.render(<UserSupport t={ta} />);\r\n    });\r\n\r\n    request.send(params);\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}