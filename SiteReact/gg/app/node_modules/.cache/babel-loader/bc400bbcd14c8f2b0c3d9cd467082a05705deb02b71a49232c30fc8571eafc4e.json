{"ast":null,"code":"import React from\"react\";import ReactDOMClient from\"react-dom/client\";import{gc}from'./userpage.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function setInfo(){var request=new XMLHttpRequest();var url=\"http://localhost:8080/setinfo\";var params=\"key=\"+gc(\"key\")+\"&Mobile=\"+document.getElementById(\"newpass1\").value+\"&Email=\"+document.getElementById(\"newpass2\").value;request.open(\"POST\",url,true);request.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");request.addEventListener(\"readystatechange\",function(){if(request.readyState===4&&request.status===200){//document.cookie = \"key=\" + request.responseText + \";max-age=3600\";\n//document.getElementById(\"chpassb\").style.display = \"none\";\n//document.getElementById(\"messchpass\").style = \"block\";\nconsole.log(\"Данные изменились!\");}else{console.log(request.status);}});request.send(params);console.log(\"ch\");}function ChInfo(){return/*#__PURE__*/_jsx(\"div\",{id:\"userFullInfo\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"inf\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u043E\\u0432\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"chpass\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043C\\u043E\\u0431\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"newpass1\",placeholder:\"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",id:\"newpass1\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u043E\\u0432\\u044B\\u0439 E-mail\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"newpass2\",placeholder:\"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440 \\u043D\\u043E\\u0432\\u043E\\u0433\\u043E \\u043F\\u0430\\u0440\\u043E\\u043B\\u044F\",id:\"newpass2\"}),/*#__PURE__*/_jsx(\"button\",{onClick:setInfo,id:\"chpassb\",children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"a\",{id:\"messchpass\",style:{display:\"none\"},href:\"/\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D, \\u043F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 \\u0432 \\u041B\\u041A\"})]})]})});}export function chInfo(){var fullinfo=ReactDOMClient.createRoot(document.getElementById(\"userFullInfo\"));fullinfo.render(/*#__PURE__*/_jsx(ChInfo,{}));}","map":{"version":3,"names":["React","ReactDOMClient","gc","setInfo","request","XMLHttpRequest","url","params","document","getElementById","value","open","setRequestHeader","addEventListener","readyState","status","console","log","send","ChInfo","display","chInfo","fullinfo","createRoot","render"],"sources":["C:/Users/admin/Desktop/Документы/123123/GW/Information-System-of-Internet-Provider/SiteReact/gg/app/src/changeInfo.js"],"sourcesContent":["import React from \"react\"\r\nimport ReactDOMClient from \"react-dom/client\"\r\nimport { gc } from './userpage.js'\r\n\r\nfunction setInfo() {\r\n    const request = new XMLHttpRequest();\r\n\r\n    const url = \"http://localhost:8080/setinfo\";\r\n  \r\n    const params = \"key=\" + gc(\"key\") + \"&Mobile=\" + document.getElementById(\"newpass1\").value + \"&Email=\" + document.getElementById(\"newpass2\").value;\r\n  \r\n    request.open(\"POST\", url, true);\r\n  \r\n    request.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n  \r\n    request.addEventListener(\"readystatechange\", () => {\r\n  \r\n      if (request.readyState === 4 && request.status === 200) {\r\n        //document.cookie = \"key=\" + request.responseText + \";max-age=3600\";\r\n        //document.getElementById(\"chpassb\").style.display = \"none\";\r\n        //document.getElementById(\"messchpass\").style = \"block\";\r\n        console.log(\"Данные изменились!\");\r\n      } else {\r\n        console.log(request.status);\r\n      }\r\n    });\r\n  \r\n    request.send(params);\r\n\r\n    console.log(\"ch\");\r\n}\r\n\r\nfunction ChInfo() {\r\n    return (\r\n        <div id=\"userFullInfo\">\r\n            <div id=\"inf\">\r\n                <p>Новые данные</p>\r\n                <div id=\"chpass\">\r\n                    <p>Новый мобильный</p><input type=\"text\" name=\"newpass1\" placeholder=\"Новый пароль\" id=\"newpass1\" />\r\n                    <p>Новый E-mail</p><input type=\"text\" name=\"newpass2\" placeholder=\"Повтор нового пароля\" id=\"newpass2\" />\r\n                    <button onClick={setInfo} id=\"chpassb\">Изменить</button>\r\n                    <a id=\"messchpass\" style={{ display: \"none\" }} href=\"/\">Пароль успешно изменен, перейти в ЛК</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function chInfo() {\r\n    const fullinfo = ReactDOMClient.createRoot(document.getElementById(\"userFullInfo\"));\r\n    fullinfo.render(<ChInfo />);\r\n}"],"mappings":"AAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,eAAc,KAAM,kBAAkB,CAC7C,OAASC,EAAE,KAAQ,eAAe,yFAElC,QAASC,QAAO,EAAG,CACf,GAAMC,QAAO,CAAG,GAAIC,eAAc,EAAE,CAEpC,GAAMC,IAAG,CAAG,+BAA+B,CAE3C,GAAMC,OAAM,CAAG,MAAM,CAAGL,EAAE,CAAC,KAAK,CAAC,CAAG,UAAU,CAAGM,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC,CAACC,KAAK,CAAG,SAAS,CAAGF,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC,CAACC,KAAK,CAElJN,OAAO,CAACO,IAAI,CAAC,MAAM,CAAEL,GAAG,CAAE,IAAI,CAAC,CAE/BF,OAAO,CAACQ,gBAAgB,CAAC,cAAc,CAAE,mCAAmC,CAAC,CAE7ER,OAAO,CAACS,gBAAgB,CAAC,kBAAkB,CAAE,UAAM,CAEjD,GAAIT,OAAO,CAACU,UAAU,GAAK,CAAC,EAAIV,OAAO,CAACW,MAAM,GAAK,GAAG,CAAE,CACtD;AACA;AACA;AACAC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC,CACnC,CAAC,IAAM,CACLD,OAAO,CAACC,GAAG,CAACb,OAAO,CAACW,MAAM,CAAC,CAC7B,CACF,CAAC,CAAC,CAEFX,OAAO,CAACc,IAAI,CAACX,MAAM,CAAC,CAEpBS,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC,CACrB,CAEA,QAASE,OAAM,EAAG,CACd,mBACI,YAAK,EAAE,CAAC,cAAc,uBAClB,aAAK,EAAE,CAAC,KAAK,wBACT,mBAAG,qEAAY,EAAI,cACnB,aAAK,EAAE,CAAC,QAAQ,wBACZ,mBAAG,uFAAe,EAAI,4BAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,qEAAc,CAAC,EAAE,CAAC,UAAU,EAAG,cACpG,mBAAG,uCAAY,EAAI,4BAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,gHAAsB,CAAC,EAAE,CAAC,UAAU,EAAG,cACzG,eAAQ,OAAO,CAAEhB,OAAQ,CAAC,EAAE,CAAC,SAAS,UAAC,kDAAQ,EAAS,cACxD,UAAG,EAAE,CAAC,YAAY,CAAC,KAAK,CAAE,CAAEiB,OAAO,CAAE,MAAO,CAAE,CAAC,IAAI,CAAC,GAAG,UAAC,4LAAoC,EAAI,GAC9F,GACJ,EACJ,CAEd,CAEA,MAAO,SAASC,OAAM,EAAG,CACrB,GAAMC,SAAQ,CAAGrB,cAAc,CAACsB,UAAU,CAACf,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC,CAAC,CACnFa,QAAQ,CAACE,MAAM,cAAC,KAAC,MAAM,IAAG,CAAC,CAC/B"},"metadata":{},"sourceType":"module","externalDependencies":[]}