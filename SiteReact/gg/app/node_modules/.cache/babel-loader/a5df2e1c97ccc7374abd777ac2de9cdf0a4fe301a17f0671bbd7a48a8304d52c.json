{"ast":null,"code":"import _classCallCheck from \"C:/Users/admin/Desktop/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/123123/GW/Information-System-of-Internet-Provider/SiteReact/gg/app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/admin/Desktop/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/123123/GW/Information-System-of-Internet-Provider/SiteReact/gg/app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { DIRECTION } from '../../core/utils.js';\nimport '../../core/change-details.js';\nimport '../../core/holder.js';\nvar PatternCursor = /*#__PURE__*/function () {\n  function PatternCursor(masked, pos) {\n    _classCallCheck(this, PatternCursor);\n    this.masked = masked;\n    this._log = [];\n    var _ref = masked._mapPosToBlock(pos) || (pos < 0 ?\n      // first\n      {\n        index: 0,\n        offset: 0\n      } :\n      // last\n      {\n        index: this.masked._blocks.length,\n        offset: 0\n      }),\n      offset = _ref.offset,\n      index = _ref.index;\n    this.offset = offset;\n    this.index = index;\n    this.ok = false;\n  }\n  _createClass(PatternCursor, [{\n    key: \"block\",\n    get: function get() {\n      return this.masked._blocks[this.index];\n    }\n  }, {\n    key: \"pos\",\n    get: function get() {\n      return this.masked._blockStartPos(this.index) + this.offset;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        index: this.index,\n        offset: this.offset,\n        ok: this.ok\n      };\n    },\n    set: function set(s) {\n      Object.assign(this, s);\n    }\n  }, {\n    key: \"pushState\",\n    value: function pushState() {\n      this._log.push(this.state);\n    }\n  }, {\n    key: \"popState\",\n    value: function popState() {\n      var s = this._log.pop();\n      this.state = s;\n      return s;\n    }\n  }, {\n    key: \"bindBlock\",\n    value: function bindBlock() {\n      if (this.block) return;\n      if (this.index < 0) {\n        this.index = 0;\n        this.offset = 0;\n      }\n      if (this.index >= this.masked._blocks.length) {\n        this.index = this.masked._blocks.length - 1;\n        this.offset = this.block.value.length;\n      }\n    }\n  }, {\n    key: \"_pushLeft\",\n    value: function _pushLeft(fn) {\n      this.pushState();\n      for (this.bindBlock(); 0 <= this.index; --this.index, this.offset = ((_this$block = this.block) === null || _this$block === void 0 ? void 0 : _this$block.value.length) || 0) {\n        var _this$block;\n        if (fn()) return this.ok = true;\n      }\n      return this.ok = false;\n    }\n  }, {\n    key: \"_pushRight\",\n    value: function _pushRight(fn) {\n      this.pushState();\n      for (this.bindBlock(); this.index < this.masked._blocks.length; ++this.index, this.offset = 0) {\n        if (fn()) return this.ok = true;\n      }\n      return this.ok = false;\n    }\n  }, {\n    key: \"pushLeftBeforeFilled\",\n    value: function pushLeftBeforeFilled() {\n      var _this = this;\n      return this._pushLeft(function () {\n        if (_this.block.isFixed || !_this.block.value) return;\n        _this.offset = _this.block.nearestInputPos(_this.offset, DIRECTION.FORCE_LEFT);\n        if (_this.offset !== 0) return true;\n      });\n    }\n  }, {\n    key: \"pushLeftBeforeInput\",\n    value: function pushLeftBeforeInput() {\n      var _this2 = this;\n      // cases:\n      // filled input: 00|\n      // optional empty input: 00[]|\n      // nested block: XX<[]>|\n      return this._pushLeft(function () {\n        if (_this2.block.isFixed) return;\n        _this2.offset = _this2.block.nearestInputPos(_this2.offset, DIRECTION.LEFT);\n        return true;\n      });\n    }\n  }, {\n    key: \"pushLeftBeforeRequired\",\n    value: function pushLeftBeforeRequired() {\n      var _this3 = this;\n      return this._pushLeft(function () {\n        if (_this3.block.isFixed || _this3.block.isOptional && !_this3.block.value) return;\n        _this3.offset = _this3.block.nearestInputPos(_this3.offset, DIRECTION.LEFT);\n        return true;\n      });\n    }\n  }, {\n    key: \"pushRightBeforeFilled\",\n    value: function pushRightBeforeFilled() {\n      var _this4 = this;\n      return this._pushRight(function () {\n        if (_this4.block.isFixed || !_this4.block.value) return;\n        _this4.offset = _this4.block.nearestInputPos(_this4.offset, DIRECTION.FORCE_RIGHT);\n        if (_this4.offset !== _this4.block.value.length) return true;\n      });\n    }\n  }, {\n    key: \"pushRightBeforeInput\",\n    value: function pushRightBeforeInput() {\n      var _this5 = this;\n      return this._pushRight(function () {\n        if (_this5.block.isFixed) return;\n\n        // const o = this.offset;\n        _this5.offset = _this5.block.nearestInputPos(_this5.offset, DIRECTION.NONE);\n        // HACK cases like (STILL DOES NOT WORK FOR NESTED)\n        // aa|X\n        // aa<X|[]>X_    - this will not work\n        // if (o && o === this.offset && this.block instanceof PatternInputDefinition) continue;\n        return true;\n      });\n    }\n  }, {\n    key: \"pushRightBeforeRequired\",\n    value: function pushRightBeforeRequired() {\n      var _this6 = this;\n      return this._pushRight(function () {\n        if (_this6.block.isFixed || _this6.block.isOptional && !_this6.block.value) return;\n\n        // TODO check |[*]XX_\n        _this6.offset = _this6.block.nearestInputPos(_this6.offset, DIRECTION.NONE);\n        return true;\n      });\n    }\n  }]);\n  return PatternCursor;\n}();\nexport { PatternCursor as default };","map":{"version":3,"names":["DIRECTION","PatternCursor","masked","pos","_log","_mapPosToBlock","index","offset","_blocks","length","ok","_blockStartPos","s","Object","assign","push","state","pop","block","value","fn","pushState","bindBlock","_this$block","_pushLeft","isFixed","nearestInputPos","FORCE_LEFT","LEFT","isOptional","_pushRight","FORCE_RIGHT","NONE","default"],"sources":["C:/Users/admin/Desktop/Документы/123123/GW/Information-System-of-Internet-Provider/SiteReact/gg/app/node_modules/imask/esm/masked/pattern/cursor.js"],"sourcesContent":["import { DIRECTION } from '../../core/utils.js';\nimport '../../core/change-details.js';\nimport '../../core/holder.js';\n\nclass PatternCursor {\n  constructor(masked, pos) {\n    this.masked = masked;\n    this._log = [];\n    const {\n      offset,\n      index\n    } = masked._mapPosToBlock(pos) || (pos < 0 ?\n    // first\n    {\n      index: 0,\n      offset: 0\n    } :\n    // last\n    {\n      index: this.masked._blocks.length,\n      offset: 0\n    });\n    this.offset = offset;\n    this.index = index;\n    this.ok = false;\n  }\n  get block() {\n    return this.masked._blocks[this.index];\n  }\n  get pos() {\n    return this.masked._blockStartPos(this.index) + this.offset;\n  }\n  get state() {\n    return {\n      index: this.index,\n      offset: this.offset,\n      ok: this.ok\n    };\n  }\n  set state(s) {\n    Object.assign(this, s);\n  }\n  pushState() {\n    this._log.push(this.state);\n  }\n  popState() {\n    const s = this._log.pop();\n    this.state = s;\n    return s;\n  }\n  bindBlock() {\n    if (this.block) return;\n    if (this.index < 0) {\n      this.index = 0;\n      this.offset = 0;\n    }\n    if (this.index >= this.masked._blocks.length) {\n      this.index = this.masked._blocks.length - 1;\n      this.offset = this.block.value.length;\n    }\n  }\n  _pushLeft(fn) {\n    this.pushState();\n    for (this.bindBlock(); 0 <= this.index; --this.index, this.offset = ((_this$block = this.block) === null || _this$block === void 0 ? void 0 : _this$block.value.length) || 0) {\n      var _this$block;\n      if (fn()) return this.ok = true;\n    }\n    return this.ok = false;\n  }\n  _pushRight(fn) {\n    this.pushState();\n    for (this.bindBlock(); this.index < this.masked._blocks.length; ++this.index, this.offset = 0) {\n      if (fn()) return this.ok = true;\n    }\n    return this.ok = false;\n  }\n  pushLeftBeforeFilled() {\n    return this._pushLeft(() => {\n      if (this.block.isFixed || !this.block.value) return;\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.FORCE_LEFT);\n      if (this.offset !== 0) return true;\n    });\n  }\n  pushLeftBeforeInput() {\n    // cases:\n    // filled input: 00|\n    // optional empty input: 00[]|\n    // nested block: XX<[]>|\n    return this._pushLeft(() => {\n      if (this.block.isFixed) return;\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.LEFT);\n      return true;\n    });\n  }\n  pushLeftBeforeRequired() {\n    return this._pushLeft(() => {\n      if (this.block.isFixed || this.block.isOptional && !this.block.value) return;\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.LEFT);\n      return true;\n    });\n  }\n  pushRightBeforeFilled() {\n    return this._pushRight(() => {\n      if (this.block.isFixed || !this.block.value) return;\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.FORCE_RIGHT);\n      if (this.offset !== this.block.value.length) return true;\n    });\n  }\n  pushRightBeforeInput() {\n    return this._pushRight(() => {\n      if (this.block.isFixed) return;\n\n      // const o = this.offset;\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.NONE);\n      // HACK cases like (STILL DOES NOT WORK FOR NESTED)\n      // aa|X\n      // aa<X|[]>X_    - this will not work\n      // if (o && o === this.offset && this.block instanceof PatternInputDefinition) continue;\n      return true;\n    });\n  }\n  pushRightBeforeRequired() {\n    return this._pushRight(() => {\n      if (this.block.isFixed || this.block.isOptional && !this.block.value) return;\n\n      // TODO check |[*]XX_\n      this.offset = this.block.nearestInputPos(this.offset, DIRECTION.NONE);\n      return true;\n    });\n  }\n}\n\nexport { PatternCursor as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}