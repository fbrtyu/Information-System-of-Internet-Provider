{"ast":null,"code":"import _slicedToArray from\"C:/Users/admin/Desktop/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B/123123/GW/Information-System-of-Internet-Provider/SiteReact/gg/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import ReactDOMClient from\"react-dom/client\";import{userPage}from\"./userpage\";import{useState}from\"react\";import{gc}from'./userpage.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var obj;var ta=[];var t1,t2,t3;var idt=0;function setV(props){console.log(props);console.log(ta);var tariff=ta.find(function(el){return el.Name==props;});console.log(tariff);t1=tariff.Name;t2=tariff.Speed;t3=tariff.Cost;idt=tariff.ID;}function UserTreaty(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var options=props.t.map(function(item){return/*#__PURE__*/_jsx(\"option\",{children:item.Name},item.ID);});return/*#__PURE__*/_jsxs(\"div\",{id:\"controlTariff\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u0422\\u0430\\u0440\\u0438\\u0444\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"inf\",children:[/*#__PURE__*/_jsxs(\"p\",{id:\"utn\",children:[\"\\u0412\\u0430\\u0448 \\u0442\\u0430\\u0440\\u0438\\u0444: \",userPage.Name]}),/*#__PURE__*/_jsxs(\"p\",{id:\"uts\",children:[\"\\u0421\\u043A\\u043E\\u0440\\u043E\\u0441\\u0442\\u044C \\u0442\\u0430\\u0440\\u0438\\u0444\\u0430: \",userPage.Speed,\" Mbit/s\"]}),/*#__PURE__*/_jsxs(\"p\",{id:\"utc\",children:[\"\\u0421\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C \\u0442\\u0430\\u0440\\u0438\\u0444\\u0430: \",userPage.Cost,\" \\u0440\\u0443\\u0431.\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{id:\"utn\",children:[\"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u0442\\u0430\\u0440\\u0438\\u0444: \",t1]}),/*#__PURE__*/_jsxs(\"p\",{id:\"uts\",children:[\"\\u0421\\u043A\\u043E\\u0440\\u043E\\u0441\\u0442\\u044C \\u0442\\u0430\\u0440\\u0438\\u0444\\u0430: \",t2,\" Mbit/s\"]}),/*#__PURE__*/_jsxs(\"p\",{id:\"utc\",children:[\"\\u0421\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C \\u0442\\u0430\\u0440\\u0438\\u0444\\u0430: \",t3,\" \\u0440\\u0443\\u0431.\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:chtariff,children:\"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0442\\u0430\\u0440\\u0438\\u0444\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0442\\u0430\\u0440\\u0438\\u0444\\u043E\\u0432\"}),/*#__PURE__*/_jsx(\"select\",{id:\"listTariff\",size:\"3\",value:value,onChange:function onChange(event){setValue(event.target.value);setV(event.target.value);},children:options})]})]});}function chtariff(){var request=new XMLHttpRequest();var url=\"http://localhost:8080/settariff\";var params=\"key=\"+gc(\"key\")+\"&ID=\"+idt;request.open(\"POST\",url,true);request.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");request.addEventListener(\"readystatechange\",function(){if(request.readyState===4&&request.status===200){//document.cookie = \"key=\" + request.responseText + \";max-age=3600\";\n//document.getElementById(\"chpassb\").style.display = \"none\";\n//document.getElementById(\"messchpass\").style = \"block\";\nconsole.log(\"Тариф изменился!\");}else{console.log(request.status);}});request.send(params);}export function userTreaty(){ta=[];var request=new XMLHttpRequest();var url=\"http://localhost:8080/tariffs\";request.open(\"GET\",url,true);request.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");request.addEventListener(\"readystatechange\",function(){if(request.readyState===4&&request.status===200){var answer=request.responseText;var array=answer.split(';');for(var i=1;i<array.length;i++){obj=JSON.parse(array[i]);ta.push(obj);}}var userInformation=ReactDOMClient.createRoot(document.getElementById(\"userInformation\"));userInformation.render(/*#__PURE__*/_jsx(UserTreaty,{t:ta}));});request.send();}","map":{"version":3,"names":["React","ReactDOMClient","userPage","useState","gc","obj","ta","t1","t2","t3","idt","setV","props","console","log","tariff","find","el","Name","Speed","Cost","ID","UserTreaty","value","setValue","options","t","map","item","chtariff","event","target","request","XMLHttpRequest","url","params","open","setRequestHeader","addEventListener","readyState","status","send","userTreaty","answer","responseText","array","split","i","length","JSON","parse","push","userInformation","createRoot","document","getElementById","render"],"sources":["C:/Users/admin/Desktop/Документы/123123/GW/Information-System-of-Internet-Provider/SiteReact/gg/app/src/usertreaty.js"],"sourcesContent":["import React from \"react\"\r\nimport ReactDOMClient from \"react-dom/client\"\r\nimport { userPage } from \"./userpage\";\r\nimport { useState } from \"react\"\r\nimport { gc } from './userpage.js'\r\n\r\nvar obj;\r\n\r\nvar ta = [];\r\n\r\nvar t1, t2, t3;\r\n\r\nvar idt = 0;\r\n\r\nfunction setV(props) {\r\n    console.log(props);\r\n    console.log(ta);\r\n    var tariff = ta.find(el => el.Name == props);\r\n    console.log(tariff);\r\n\r\n    t1 = tariff.Name;\r\n    t2 = tariff.Speed;\r\n    t3 = tariff.Cost;\r\n\r\n    idt = tariff.ID;\r\n}\r\n\r\nfunction UserTreaty(props) {\r\n\r\n    const [value, setValue] = useState('');\r\n\r\n    const options = props.t.map((item) => {\r\n        return <option key={item.ID}>{item.Name}</option>;\r\n    });\r\n\r\n    return (\r\n        <div id=\"controlTariff\">\r\n            <div>\r\n                <p>Тариф</p>\r\n                <div id=\"inf\">\r\n                    <p id=\"utn\">Ваш тариф: {userPage.Name}</p>\r\n                    <p id=\"uts\">Скорость тарифа: {userPage.Speed} Mbit/s</p>\r\n                    <p id=\"utc\">Стоимость тарифа: {userPage.Cost} руб.</p>\r\n                    <br></br>\r\n                    <p id=\"utn\">Новый тариф: {t1}</p>\r\n                    <p id=\"uts\">Скорость тарифа: {t2} Mbit/s</p>\r\n                    <p id=\"utc\">Стоимость тарифа: {t3} руб.</p>\r\n                    <button onClick={chtariff} >Сменить тариф</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <p>Список тарифов</p>\r\n                <select id=\"listTariff\" size=\"3\" value={value} onChange={(event) => { setValue(event.target.value); setV(event.target.value) }}>\r\n                    {options}\r\n                </select>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction chtariff() {\r\n    const request = new XMLHttpRequest();\r\n\r\n    const url = \"http://localhost:8080/settariff\";\r\n\r\n    const params = \"key=\" + gc(\"key\") + \"&ID=\" + idt;\r\n\r\n    request.open(\"POST\", url, true);\r\n\r\n    request.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n\r\n    request.addEventListener(\"readystatechange\", () => {\r\n\r\n        if (request.readyState === 4 && request.status === 200) {\r\n            //document.cookie = \"key=\" + request.responseText + \";max-age=3600\";\r\n            //document.getElementById(\"chpassb\").style.display = \"none\";\r\n            //document.getElementById(\"messchpass\").style = \"block\";\r\n            console.log(\"Тариф изменился!\");\r\n        } else {\r\n            console.log(request.status);\r\n        }\r\n    });\r\n\r\n    request.send(params);\r\n}\r\n\r\nexport function userTreaty() {\r\n    ta = [];\r\n\r\n    const request = new XMLHttpRequest();\r\n\r\n    const url = \"http://localhost:8080/tariffs\";\r\n\r\n    request.open(\"GET\", url, true);\r\n\r\n    request.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n\r\n    request.addEventListener(\"readystatechange\", () => {\r\n\r\n        if (request.readyState === 4 && request.status === 200) {\r\n            var answer = request.responseText;\r\n            var array = answer.split(';');\r\n\r\n            for (let i = 1; i < array.length; i++) {\r\n                obj = JSON.parse(array[i]);\r\n                ta.push(obj);\r\n            }\r\n        }\r\n        const userInformation = ReactDOMClient.createRoot(document.getElementById(\"userInformation\"));\r\n        userInformation.render(<UserTreaty t={ta} />);\r\n    });\r\n\r\n    request.send();\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}